---
title: "Project"
author: "William Dunne"
date: "19 September 2019"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(reshape2)
library(keras)
```

```{r}
data <- read.csv("data/P3S2_hourly_clean.csv")


IDs <- unique(data[,1])


data <- data %>%
  select(starts_with("hour"), plan_date, respondent_id) %>%
  melt(id.vars = c("plan_date", "respondent_id")) %>%
  dcast(respondent_id ~ plan_date + ...)

data <- ts(data, )


#acf(diff(as.numeric(n_data_101), lag.max = 14, type = 'correlation')

```

There are 24 unique ID's and 17 unique timezones, with 3 named oddly... doing an ACF test to lag 14 shows that all respondent had autocorrelation occuring by day.

```{r}





model <- keras_model_sequential() %>% 
  layer_dense(units = 32, input_shape = c(784), activation = "relu") %>% 
  layer_dense(units = 1)

model %>% compile(
  optimizer = optimizer_rmsprop(),
  loss = "mae"
)

history <- model %>% fit_generator(
  train,
  steps_per_epoch = 500,
  epochs = 30,
  validation_data = val,
  validation_steps = 100
)


```

